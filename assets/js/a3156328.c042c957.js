"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[9642],{7809:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>p,frontMatter:()=>r,metadata:()=>i,toc:()=>d});var s=n(4848),l=n(8453);const r={title:"Open string enums"},a=void 0,i={id:"type-safety/open-string-enums",title:"Open string enums",description:"Some people like to use tables and foreign keys to encode enums. It'll typically take this form:",source:"@site/docs/type-safety/open-string-enums.md",sourceDirName:"type-safety",slug:"/type-safety/open-string-enums",permalink:"/docs/type-safety/open-string-enums",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Open string enums"},sidebar:"tutorialSidebar",previous:{title:"String enums",permalink:"/docs/type-safety/string-enums"},next:{title:"Domains",permalink:"/docs/type-safety/domains"}},o={},d=[{value:"Supported data types",id:"supported-data-types",level:2}];function c(e){const t={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,l.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"Some people like to use tables and foreign keys to encode enums. It'll typically take this form:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-sql",children:"create table title (code text primary key);\ninsert into title (code) values ('mr'), ('ms'), ('dr'), ('phd');\n\ncreate table titledperson\n(\n    title       text       not null references title,\n    name        text       not null\n);\n\n"})}),"\n",(0,s.jsx)(t.p,{children:'You can configure typo to generate so-called "open enums" for you.'}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-scala",children:'val options = Options(\n  // ...\n  openEnums = Selector.relationNames("title")\n)\n'})}),"\n",(0,s.jsxs)(t.p,{children:["And typo will output the ",(0,s.jsx)(t.a,{href:"/docs/type-safety/id-types",children:"Primary key type"})," as something like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-scala",children:'/** Type for the primary key of table `public.title`. It has some known values: \n  *  - dr\n  *  - mr\n  *  - ms\n  *  - phd\n  */\nsealed abstract class TitleId(val value: String)\n\nobject TitleId {\n  def apply(underlying: String): TitleId =\n    ByName.getOrElse(underlying, Unknown(underlying))\n  case object dr extends TitleId("dr")\n  case object mr extends TitleId("mr")\n  case object ms extends TitleId("ms")\n  case object phd extends TitleId("phd")\n  case class Unknown(override val value: String) extends TitleId(value)\n  val All: List[TitleId] = List(dr, mr, ms, phd)\n  val ByName: Map[String, TitleId] = All.map(x => (x.value, x)).toMap\n  \n  // type class instances\n}\n'})}),"\n",(0,s.jsx)(t.h2,{id:"supported-data-types",children:"Supported data types"}),"\n",(0,s.jsx)(t.p,{children:"Currently, typo supports the following data types for open enums:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"text"})}),"\n",(0,s.jsxs)(t.li,{children:["a domain which has ",(0,s.jsx)(t.code,{children:"text"})," as its base type"]}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,l.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>i});var s=n(6540);const l={},r=s.createContext(l);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:a(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);