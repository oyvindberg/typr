"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([[154],{5929:(e,s,i)=>{i.r(s),i.d(s,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>d,toc:()=>l});var n=i(4848),r=i(8453);const t={title:"Customizing Typo"},o=void 0,d={id:"customization/overview",title:"Customizing Typo",description:"All customizations are done through the typo.Options object passed to typo:",source:"@site/docs/customization/overview.md",sourceDirName:"customization",slug:"/customization/overview",permalink:"/docs/customization/overview",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{title:"Customizing Typo"},sidebar:"tutorialSidebar",previous:{title:"Patterns: Dynamic queries",permalink:"/docs/patterns/dynamic-queries"},next:{title:"Customize selected relations",permalink:"/docs/customization/customize-selected-relations"}},c={},l=[{value:"All options",id:"all-options",level:2},{value:"Database Libraries",id:"database-libraries",level:2},{value:"Scala Version Dialect",id:"scala-version-dialect",level:2},{value:"Development options",id:"development-options",level:2}];function a(e){const s={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["All customizations are done through the ",(0,n.jsx)(s.code,{children:"typo.Options"})," object passed to typo:"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-scala",children:'import typo.*\n\nval options = Options(\n  pkg = "org.foo",\n  jsonLibs = List(JsonLibName.PlayJson),\n  dbLib = Some(DbLibName.Anorm),\n  // .. more options here\n)\n\n'})}),"\n",(0,n.jsx)(s.h2,{id:"all-options",children:"All options"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field Name"}),(0,n.jsx)(s.th,{children:"Effect"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"pkg"})}),(0,n.jsx)(s.td,{children:"Specifies the package name for the generated code."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"dbLib"})}),(0,n.jsxs)(s.td,{children:["Defines the database library to use for code generation (anorm, doobie, zio-jdbc or ",(0,n.jsx)(s.code,{children:"None"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"jsonLibs"})}),(0,n.jsx)(s.td,{children:"JSON libraries to generate codecs for (default is empty)."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"silentBanner"})}),(0,n.jsxs)(s.td,{children:["Controls whether to suppress the Typo banner while running Typo (default is ",(0,n.jsx)(s.code,{children:"false"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"fileHeader"})}),(0,n.jsx)(s.td,{children:"Sets the header text that appears at the top of generated files."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"naming"})}),(0,n.jsx)(s.td,{children:"Configures naming conventions for generated code. See section below"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"typeOverride"})}),(0,n.jsx)(s.td,{children:"Defines type overrides for specific database types See section below."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"nullabilityOverride"})}),(0,n.jsx)(s.td,{children:"Defines nullability overrides for specific columns See section below."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"generateMockRepos"})}),(0,n.jsx)(s.td,{children:"Specifies which repositories to generate mock versions for (default is all)."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"enableFieldValue"})}),(0,n.jsxs)(s.td,{children:["Controls whether to enable ",(0,n.jsx)(s.code,{children:"FieldValue"})," code generation for specific repositories (default is disabled)."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"enableStreamingInserts"})}),(0,n.jsxs)(s.td,{children:["Controls whether to enable ",(0,n.jsx)(s.a,{href:"/docs/other-features/streaming-inserts",children:"streaming inserts"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"enableTestInserts"})}),(0,n.jsxs)(s.td,{children:["Controls whether to enable ",(0,n.jsx)(s.a,{href:"/docs/other-features/testing-with-random-values",children:"test inserts"})," for specific repositories (default is none)."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"enablePrimaryKeyType"})}),(0,n.jsxs)(s.td,{children:["Controls whether to enable ",(0,n.jsx)(s.a,{href:"/docs/type-safety/id-types",children:"primary key types"})," for specific repositories (default is all)."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"readonlyRepo"})}),(0,n.jsxs)(s.td,{children:["Specifies whether to generate read-only repositories for specific repositories. Useful when you're working on a part of the system where you only consume certain tables. (default is ",(0,n.jsx)(s.code,{children:"false"})," - all mutable)."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"enableDsl"})}),(0,n.jsxs)(s.td,{children:["Enables the ",(0,n.jsx)(s.a,{href:"/docs/what-is/dsl",children:"SQL DSL"})," for code generation (default is ",(0,n.jsx)(s.code,{children:"false"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"keepDependencies"})}),(0,n.jsxs)(s.td,{children:["Specifies whether to generate ",(0,n.jsx)(s.a,{href:"/docs/type-safety/type-flow",children:"table dependencies"})," in generated code even if you didn't select them (default is ",(0,n.jsx)(s.code,{children:"false"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"rewriteDatabase"})}),(0,n.jsx)(s.td,{children:"Let's you perform arbitrary rewrites of database schema snapshot. you can add/remove rows, foreign keys and so on."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"openEnums"})}),(0,n.jsxs)(s.td,{children:["Controls if you want to tag tables ids as ",(0,n.jsx)(s.a,{href:"/docs/type-safety/open-string-enums",children:"open string enums"})]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"dialect"})}),(0,n.jsxs)(s.td,{children:["Controls the Scala syntax for implicit parameters and instances: ",(0,n.jsx)(s.code,{children:"Dialect.Scala2XSource3"})," (default) generates ",(0,n.jsx)(s.code,{children:"implicit"})," for Scala 2.12/2.13 and shared Scala 3 code, while ",(0,n.jsx)(s.code,{children:"Dialect.Scala3"})," generates ",(0,n.jsx)(s.code,{children:"using"}),"/",(0,n.jsx)(s.code,{children:"given"})," for Scala 3-only code. You must choose the appropriate dialect based on your target Scala version."]})]})]})]}),"\n",(0,n.jsx)(s.h2,{id:"database-libraries",children:"Database Libraries"}),"\n",(0,n.jsx)(s.p,{children:"Typo supports multiple Scala database libraries, each with specific optimizations:"}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Anorm"})," (",(0,n.jsx)(s.code,{children:"DbLibName.Anorm"}),") - Lightweight SQL parser for Play Framework"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"Doobie"})," (",(0,n.jsx)(s.code,{children:"DbLibName.Doobie"}),") - Functional JDBC layer for Cats Effect"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:"ZIO-JDBC"})," (",(0,n.jsx)(s.code,{children:"DbLibName.ZioJdbc"}),") - Type-safe JDBC wrapper for ZIO"]}),"\n"]}),"\n",(0,n.jsx)(s.p,{children:"Each library generates code optimized for that specific ecosystem, including appropriate return types, error handling,\nand integration patterns."}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-scala",children:'val options = Options(\n  pkg = "myapp.db",\n  dbLib = Some(DbLibName.Anorm), // Choose your library\n  // ... other options\n)\n'})}),"\n",(0,n.jsx)(s.h2,{id:"scala-version-dialect",children:"Scala Version Dialect"}),"\n",(0,n.jsxs)(s.p,{children:["Typo can generate code for different Scala versions using the ",(0,n.jsx)(s.code,{children:"dialect"})," option:"]}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"Dialect.Scala2XSource3"})})," (default): Generates code using ",(0,n.jsx)(s.code,{children:"implicit"})," syntax that works with Scala 2.12, 2.13, and Scala 3 (in Scala 2 compatibility mode)"]}),"\n",(0,n.jsxs)(s.li,{children:[(0,n.jsx)(s.strong,{children:(0,n.jsx)(s.code,{children:"Dialect.Scala3"})}),": Generates code using Scala 3's ",(0,n.jsx)(s.code,{children:"using"}),"/",(0,n.jsx)(s.code,{children:"given"})," syntax for cleaner, more modern code"]}),"\n"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-scala",children:'// For Scala 2.12/2.13 or mixed Scala 2/3 projects\nval options = Options(\n  pkg = "myapp.db",\n  dbLib = Some(DbLibName.Anorm),\n  dialect = Dialect.Scala2XSource3  // This is the default\n)\n\n// For Scala 3-only projects\nval options = Options(\n  pkg = "myapp.db", \n  dbLib = Some(DbLibName.Anorm),\n  dialect = Dialect.Scala3\n)\n'})}),"\n",(0,n.jsxs)(s.p,{children:["Choose ",(0,n.jsx)(s.code,{children:"Dialect.Scala3"})," only if your entire codebase is on Scala 3 and you want to use the modern syntax. Otherwise, stick with the default ",(0,n.jsx)(s.code,{children:"Dialect.Scala2XSource3"})," for maximum compatibility."]}),"\n",(0,n.jsx)(s.h2,{id:"development-options",children:"Development options"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Field Name"}),(0,n.jsx)(s.th,{children:"Effect"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"debugTypes"})}),(0,n.jsxs)(s.td,{children:["Enables debug mode for types during code generation (default is ",(0,n.jsx)(s.code,{children:"false"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"inlineImplicits"})}),(0,n.jsxs)(s.td,{children:["Controls whether to inline implicits for generated code (default is ",(0,n.jsx)(s.code,{children:"true"}),")."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:(0,n.jsx)(s.code,{children:"logger"})}),(0,n.jsx)(s.td,{children:"Specifies the logger to use for logging during code generation (default is console logging). Useful for"})]})]})]})]})}function h(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(a,{...e})}):a(e)}},8453:(e,s,i)=>{i.d(s,{R:()=>o,x:()=>d});var n=i(6540);const r={},t=n.createContext(r);function o(e){const s=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),n.createElement(t.Provider,{value:s},e.children)}}}]);