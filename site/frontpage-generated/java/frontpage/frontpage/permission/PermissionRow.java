/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package frontpage.frontpage.permission;

import frontpage.customtypes.Defaulted;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;
import typo.runtime.RowParsers.Tuple2;

/** Table: frontpage.permission
  * Primary key: id
  */
public record PermissionRow(
  /** Default: gen_random_uuid() */
  PermissionId id,
  String name
) {
  /** Default: gen_random_uuid() */
  public PermissionRow withId(PermissionId id) {
    return new PermissionRow(id, name);
  };

  public PermissionRow withName(String name) {
    return new PermissionRow(id, name);
  };

  static RowParser<PermissionRow> _rowParser = RowParsers.of(PermissionId.pgType, PgTypes.text, PermissionRow::new, row -> new Tuple2<>(row.id(), row.name()));;

  static public PgText<PermissionRow> pgText =
    PgText.from(_rowParser);

  public PermissionRowUnsaved toUnsavedRow(Defaulted<PermissionId> id) {
    return new PermissionRowUnsaved(name, id);
  };
}