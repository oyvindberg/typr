/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package frontpage.frontpage.address;

import frontpage.customtypes.Defaulted;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;
import typo.runtime.RowParsers.Tuple3;

/** Table: frontpage.address
  * Primary key: id
  */
public record AddressRow(
  /** Default: gen_random_uuid() */
  AddressId id,
  String city,
  String country
) {
  /** Default: gen_random_uuid() */
  public AddressRow withId(AddressId id) {
    return new AddressRow(id, city, country);
  };

  public AddressRow withCity(String city) {
    return new AddressRow(id, city, country);
  };

  public AddressRow withCountry(String country) {
    return new AddressRow(id, city, country);
  };

  static RowParser<AddressRow> _rowParser = RowParsers.of(AddressId.pgType, PgTypes.text, PgTypes.text, AddressRow::new, row -> new Tuple3<>(row.id(), row.city(), row.country()));;

  static public PgText<AddressRow> pgText =
    PgText.from(_rowParser);

  public AddressRowUnsaved toUnsavedRow(Defaulted<AddressId> id) {
    return new AddressRowUnsaved(city, country, id);
  };
}