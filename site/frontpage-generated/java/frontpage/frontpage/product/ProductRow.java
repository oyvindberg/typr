/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package frontpage.frontpage.product;

import com.fasterxml.jackson.annotation.JsonProperty;
import frontpage.customtypes.Defaulted;
import frontpage.customtypes.TypoJsonb;
import frontpage.customtypes.TypoLocalDateTime;
import java.math.BigDecimal;
import java.util.Optional;
import typo.runtime.PgText;
import typo.runtime.PgTypes;
import typo.runtime.RowParser;
import typo.runtime.RowParsers;
import typo.runtime.RowParsers.Tuple11;

/** Table: frontpage.product
  * Primary key: id
  */
public record ProductRow(
  /** Default: gen_random_uuid() */
  ProductId id,
  String name,
  BigDecimal price,
  /** Default: true */
  @JsonProperty("in_stock") Optional<Boolean> inStock,
  /** Default: 0 */
  Optional<Integer> quantity,
  @JsonProperty("last_restocked") Optional<TypoLocalDateTime> lastRestocked,
  /** Default: now() */
  @JsonProperty("last_modified") Optional<TypoLocalDateTime> lastModified,
  /** Default: '{}'::text[] */
  Optional<String[]> tags,
  /** Default: '{}'::integer[] */
  Optional<Integer[]> categories,
  /** Default: '{}'::numeric[] */
  Optional<BigDecimal[]> prices,
  /** Default: '{}'::jsonb[] */
  Optional<TypoJsonb[]> attributes
) {
  /** Default: gen_random_uuid() */
  public ProductRow withId(ProductId id) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  public ProductRow withName(String name) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  public ProductRow withPrice(BigDecimal price) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  /** Default: true */
  public ProductRow withInStock(Optional<Boolean> inStock) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  /** Default: 0 */
  public ProductRow withQuantity(Optional<Integer> quantity) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  public ProductRow withLastRestocked(Optional<TypoLocalDateTime> lastRestocked) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  /** Default: now() */
  public ProductRow withLastModified(Optional<TypoLocalDateTime> lastModified) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  /** Default: '{}'::text[] */
  public ProductRow withTags(Optional<String[]> tags) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  /** Default: '{}'::integer[] */
  public ProductRow withCategories(Optional<Integer[]> categories) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  /** Default: '{}'::numeric[] */
  public ProductRow withPrices(Optional<BigDecimal[]> prices) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  /** Default: '{}'::jsonb[] */
  public ProductRow withAttributes(Optional<TypoJsonb[]> attributes) {
    return new ProductRow(id, name, price, inStock, quantity, lastRestocked, lastModified, tags, categories, prices, attributes);
  };

  static RowParser<ProductRow> _rowParser = RowParsers.of(ProductId.pgType, PgTypes.text, PgTypes.numeric, PgTypes.bool.opt(), PgTypes.int4.opt(), TypoLocalDateTime.pgType.opt(), TypoLocalDateTime.pgType.opt(), PgTypes.textArray.opt(), PgTypes.int4Array.opt(), PgTypes.numericArray.opt(), TypoJsonb.pgTypeArray.opt(), ProductRow::new, row -> new Tuple11<>(row.id(), row.name(), row.price(), row.inStock(), row.quantity(), row.lastRestocked(), row.lastModified(), row.tags(), row.categories(), row.prices(), row.attributes()));;

  static public PgText<ProductRow> pgText =
    PgText.from(_rowParser);

  public ProductRowUnsaved toUnsavedRow(
    Defaulted<ProductId> id,
    Defaulted<Optional<Boolean>> inStock,
    Defaulted<Optional<Integer>> quantity,
    Defaulted<Optional<TypoLocalDateTime>> lastModified,
    Defaulted<Optional<String[]>> tags,
    Defaulted<Optional<Integer[]>> categories,
    Defaulted<Optional<BigDecimal[]>> prices,
    Defaulted<Optional<TypoJsonb[]>> attributes
  ) {
    return new ProductRowUnsaved(name, price, lastRestocked, id, inStock, quantity, lastModified, tags, categories, prices, attributes);
  };
}