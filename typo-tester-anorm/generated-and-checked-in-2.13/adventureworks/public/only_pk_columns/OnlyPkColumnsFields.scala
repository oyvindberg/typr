/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.public.only_pk_columns

import anorm.ParameterMetaData
import anorm.ToParameterValue
import anorm.ToStatement
import typo.dsl.Path
import typo.dsl.SqlExpr
import typo.dsl.SqlExpr.CompositeIn
import typo.dsl.SqlExpr.CompositeIn.TuplePart
import typo.dsl.SqlExpr.Const.As.as
import typo.dsl.SqlExpr.FieldLike
import typo.dsl.SqlExpr.IdField
import typo.dsl.Structure.Relation

trait OnlyPkColumnsFields {
  def keyColumn1: IdField[String, OnlyPkColumnsRow]
  def keyColumn2: IdField[Int, OnlyPkColumnsRow]
  def compositeIdIs(compositeId: OnlyPkColumnsId): SqlExpr[Boolean] =
    keyColumn1.isEqual(compositeId.keyColumn1).and(keyColumn2.isEqual(compositeId.keyColumn2))
  def compositeIdIn(compositeIds: Array[OnlyPkColumnsId]): SqlExpr[Boolean] =
    new CompositeIn(compositeIds)(TuplePart[OnlyPkColumnsId](keyColumn1)(_.keyColumn1)(using as[Array[String]](ToParameterValue(null, ToStatement.arrayToParameter(ParameterMetaData.StringParameterMetaData)), adventureworks.arrayParameterMetaData(ParameterMetaData.StringParameterMetaData)), implicitly), TuplePart[OnlyPkColumnsId](keyColumn2)(_.keyColumn2)(using as[Array[Int]](ToParameterValue(null, adventureworks.IntArrayToStatement), adventureworks.arrayParameterMetaData(ParameterMetaData.IntParameterMetaData)), implicitly))
  
}

object OnlyPkColumnsFields {
  lazy val structure: Relation[OnlyPkColumnsFields, OnlyPkColumnsRow] =
    new Impl(Nil)

  private final class Impl(val _path: List[Path])
    extends Relation[OnlyPkColumnsFields, OnlyPkColumnsRow] {
  
    override lazy val fields: OnlyPkColumnsFields = new OnlyPkColumnsFields {
      override def keyColumn1 = IdField[String, OnlyPkColumnsRow](_path, "key_column_1", None, None, x => x.keyColumn1, (row, value) => row.copy(keyColumn1 = value))
      override def keyColumn2 = IdField[Int, OnlyPkColumnsRow](_path, "key_column_2", None, Some("int4"), x => x.keyColumn2, (row, value) => row.copy(keyColumn2 = value))
    }
  
    override lazy val columns: List[FieldLike[?, OnlyPkColumnsRow]] =
      List[FieldLike[?, OnlyPkColumnsRow]](fields.keyColumn1, fields.keyColumn2)
  
    override def copy(path: List[Path]): Impl =
      new Impl(path)
  }
  
}
