/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.test_connection;

import com.fasterxml.jackson.annotation.JsonProperty;
import dev.typr.foundations.RowParser;
import dev.typr.foundations.RowParsers;
import dev.typr.foundations.SqlServerTypes;
import dev.typr.foundations.Tuple.Tuple3;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;

/** Table: test_connection Primary key: id */
public record TestConnectionRow(
    /** IDENTITY(1, 1) */
    TestConnectionId id,
    String message,
    /** Default: (getdate()) */
    @JsonProperty("created_at") Optional<LocalDateTime> createdAt)
    implements Tuple3<TestConnectionId, String, Optional<LocalDateTime>> {
  /** IDENTITY(1, 1) */
  public TestConnectionRow withId(TestConnectionId id) {
    return new TestConnectionRow(id, message, createdAt);
  }
  ;

  public TestConnectionRow withMessage(String message) {
    return new TestConnectionRow(id, message, createdAt);
  }
  ;

  /** Default: (getdate()) */
  public TestConnectionRow withCreatedAt(Optional<LocalDateTime> createdAt) {
    return new TestConnectionRow(id, message, createdAt);
  }
  ;

  public static RowParser<TestConnectionRow> _rowParser =
      RowParsers.of(
          TestConnectionId.sqlServerType,
          SqlServerTypes.nvarchar,
          SqlServerTypes.datetime2.opt(),
          TestConnectionRow::new,
          row -> new Object[] {row.id(), row.message(), row.createdAt()});
  ;

  @Override
  public TestConnectionId _1() {
    return id;
  }
  ;

  @Override
  public String _2() {
    return message;
  }
  ;

  @Override
  public Optional<LocalDateTime> _3() {
    return createdAt;
  }
  ;

  public TestConnectionRowUnsaved toUnsavedRow(Defaulted<Optional<LocalDateTime>> createdAt) {
    return new TestConnectionRowUnsaved(message, createdAt);
  }
  ;
}
