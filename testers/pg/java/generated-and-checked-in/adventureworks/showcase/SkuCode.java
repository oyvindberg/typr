/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.showcase;

import com.fasterxml.jackson.annotation.JsonValue;
import dev.typr.foundations.PgType;
import dev.typr.foundations.PgTypes;
import dev.typr.foundations.dsl.Bijection;
import dev.typr.foundations.internal.arrayMap;

/** Domain `showcase.sku_code` Constraint: CHECK (((VALUE)::text ~ '^[A-Z0-9\-]{3,50}$'::text)) */
public record SkuCode(@JsonValue String value) {
  public SkuCode withValue(String value) {
    return new SkuCode(value);
  }
  ;

  public static Bijection<SkuCode, String> bijection = Bijection.of(SkuCode::value, SkuCode::new);

  public static PgType<SkuCode> pgType =
      PgTypes.text.bimap(SkuCode::new, SkuCode::value).renamed("\"showcase\".\"sku_code\"");

  public static PgType<SkuCode[]> pgTypeArray =
      PgTypes.textArray
          .bimap(
              xs -> arrayMap.map(xs, SkuCode::new, SkuCode.class),
              xs -> arrayMap.map(xs, SkuCode::value, String.class))
          .renamed("\"showcase\".\"sku_code\"[]");
}
