/**
 * File has been automatically generated by `typo`.
 *
 * <p>IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.customers;

import com.fasterxml.jackson.annotation.JsonProperty;
import java.time.LocalDateTime;
import java.util.Optional;
import testdb.customtypes.Defaulted;
import testdb.customtypes.Defaulted.UseDefault;

/** This class corresponds to a row in table `CUSTOMERS` which has not been persisted yet */
public record CustomersRowUnsaved(
    /** Full name of the customer */
    @JsonProperty("NAME") String name,
    /** Email address used for contact and login */
    @JsonProperty("EMAIL") String email,
    /** Identity BY DEFAULT Unique identifier for the customer */
    @JsonProperty("CUSTOMER_ID") Defaulted<CustomersId> customerId,
    /** Default: CURRENT TIMESTAMP */
    @JsonProperty("CREATED_AT") Defaulted<Optional<LocalDateTime>> createdAt) {
  public CustomersRowUnsaved(
      /** Full name of the customer */
      @JsonProperty("NAME") String name,
      /** Email address used for contact and login */
      @JsonProperty("EMAIL") String email) {
    this(name, email, new UseDefault<>(), new UseDefault<>());
  }
  ;

  /** Full name of the customer */
  public CustomersRowUnsaved withName(String name) {
    return new CustomersRowUnsaved(name, email, customerId, createdAt);
  }
  ;

  /** Email address used for contact and login */
  public CustomersRowUnsaved withEmail(String email) {
    return new CustomersRowUnsaved(name, email, customerId, createdAt);
  }
  ;

  /** Identity BY DEFAULT Unique identifier for the customer */
  public CustomersRowUnsaved withCustomerId(Defaulted<CustomersId> customerId) {
    return new CustomersRowUnsaved(name, email, customerId, createdAt);
  }
  ;

  /** Default: CURRENT TIMESTAMP */
  public CustomersRowUnsaved withCreatedAt(Defaulted<Optional<LocalDateTime>> createdAt) {
    return new CustomersRowUnsaved(name, email, customerId, createdAt);
  }
  ;

  public CustomersRow toRow(
      java.util.function.Supplier<CustomersId> customerIdDefault,
      java.util.function.Supplier<Optional<LocalDateTime>> createdAtDefault) {
    return new CustomersRow(
        customerId.getOrElse(customerIdDefault),
        name,
        email,
        createdAt.getOrElse(createdAtDefault));
  }
  ;
}
