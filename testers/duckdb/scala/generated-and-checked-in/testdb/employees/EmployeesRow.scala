/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.employees

import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.DuckDbTypes
import dev.typr.foundations.Tuple.Tuple7
import dev.typr.foundations.scala.DbTypeOps
import dev.typr.foundations.scala.RowParser
import dev.typr.foundations.scala.RowParsers
import dev.typr.foundations.scala.ScalaDbTypes
import java.time.LocalDate
import testdb.customtypes.Defaulted

/** Table: employees
 * Composite primary key: emp_number, emp_suffix
 */
case class EmployeesRow(
  @JsonProperty("emp_number") empNumber: Int,
  @JsonProperty("emp_suffix") empSuffix: String,
  @JsonProperty("dept_code") deptCode: String,
  @JsonProperty("dept_region") deptRegion: String,
  @JsonProperty("emp_name") empName: String,
  salary: Option[BigDecimal],
  /** Default: current_date */
  @JsonProperty("hire_date") hireDate: LocalDate
) extends Tuple7[Int, String, String, String, String, Option[BigDecimal], LocalDate] {
  def compositeId: EmployeesId = new EmployeesId(empNumber, empSuffix)

  def id: EmployeesId = this.compositeId

  def toUnsavedRow(hireDate: Defaulted[LocalDate] = Defaulted.Provided(this.hireDate)): EmployeesRowUnsaved = {
    new EmployeesRowUnsaved(
      empNumber,
      empSuffix,
      deptCode,
      deptRegion,
      empName,
      salary,
      hireDate
    )
  }

  override def `_1`: Int = empNumber

  override def `_2`: String = empSuffix

  override def `_3`: String = deptCode

  override def `_4`: String = deptRegion

  override def `_5`: String = empName

  override def `_6`: Option[BigDecimal] = salary

  override def `_7`: LocalDate = hireDate
}

object EmployeesRow {
  val `_rowParser`: RowParser[EmployeesRow] = RowParsers.of(ScalaDbTypes.DuckDbTypes.integer, DuckDbTypes.varchar, DuckDbTypes.varchar, DuckDbTypes.varchar, DuckDbTypes.varchar, ScalaDbTypes.DuckDbTypes.numeric.nullable, DuckDbTypes.date)(EmployeesRow.apply)(row => Array[Any](row.empNumber, row.empSuffix, row.deptCode, row.deptRegion, row.empName, row.salary, row.hireDate))

  def apply(
    compositeId: EmployeesId,
    deptCode: String,
    deptRegion: String,
    empName: String,
    salary: Option[BigDecimal],
    hireDate: LocalDate
  ): EmployeesRow = {
    new EmployeesRow(
      compositeId.empNumber,
      compositeId.empSuffix,
      deptCode,
      deptRegion,
      empName,
      salary,
      hireDate
    )
  }
}