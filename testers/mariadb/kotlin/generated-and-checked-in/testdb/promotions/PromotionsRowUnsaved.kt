/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package testdb.promotions

import com.fasterxml.jackson.annotation.JsonProperty
import dev.typr.foundations.data.Json
import dev.typr.foundations.data.Uint1
import dev.typr.foundations.data.Uint4
import dev.typr.foundations.data.maria.MariaSet
import java.math.BigDecimal
import java.time.LocalDateTime
import testdb.customtypes.Defaulted
import testdb.customtypes.Defaulted.UseDefault

/** This class corresponds to a row in table `promotions` which has not been persisted yet */
data class PromotionsRowUnsaved(
  /**  */
  val code: String,
  /**  */
  val name: String,
  /**  */
  @JsonProperty("discount_type") val discountType: String,
  /**  */
  @JsonProperty("discount_value") val discountValue: BigDecimal,
  /**  */
  @JsonProperty("valid_from") val validFrom: LocalDateTime,
  /**  */
  @JsonProperty("valid_to") val validTo: LocalDateTime,
  /** Default: NULL

    */
  val description: Defaulted<String?> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("min_order_amount") val minOrderAmount: Defaulted<BigDecimal?> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("max_uses") val maxUses: Defaulted<Uint4?> = UseDefault(),
  /** Default: 0

    */
  @JsonProperty("uses_count") val usesCount: Defaulted<Uint4> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("max_uses_per_customer") val maxUsesPerCustomer: Defaulted<Uint1?> = UseDefault(),
  /** Default: NULL

    */
  @JsonProperty("applicable_to") val applicableTo: Defaulted<MariaSet?> = UseDefault(),
  /** Default: NULL
    * Complex eligibility rules
    */
  @JsonProperty("rules_json") val rulesJson: Defaulted<Json?> = UseDefault(),
  /** Default: 1

    */
  @JsonProperty("is_active") val isActive: Defaulted<Boolean> = UseDefault(),
  /** Default: current_timestamp()

    */
  @JsonProperty("created_at") val createdAt: Defaulted<LocalDateTime> = UseDefault()
) {
  fun toRow(
    descriptionDefault: () -> String?,
    minOrderAmountDefault: () -> BigDecimal?,
    maxUsesDefault: () -> Uint4?,
    usesCountDefault: () -> Uint4,
    maxUsesPerCustomerDefault: () -> Uint1?,
    applicableToDefault: () -> MariaSet?,
    rulesJsonDefault: () -> Json?,
    isActiveDefault: () -> Boolean,
    createdAtDefault: () -> LocalDateTime,
    promotionIdDefault: () -> PromotionsId
  ): PromotionsRow = PromotionsRow(promotionId = promotionIdDefault(), code = code, name = name, description = description.getOrElse(descriptionDefault), discountType = discountType, discountValue = discountValue, minOrderAmount = minOrderAmount.getOrElse(minOrderAmountDefault), maxUses = maxUses.getOrElse(maxUsesDefault), usesCount = usesCount.getOrElse(usesCountDefault), maxUsesPerCustomer = maxUsesPerCustomer.getOrElse(maxUsesPerCustomerDefault), applicableTo = applicableTo.getOrElse(applicableToDefault), rulesJson = rulesJson.getOrElse(rulesJsonDefault), validFrom = validFrom, validTo = validTo, isActive = isActive.getOrElse(isActiveDefault), createdAt = createdAt.getOrElse(createdAtDefault))
}