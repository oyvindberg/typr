/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.customtypes;

import org.postgresql.geometric.PGline;
import typo.runtime.PgRead;
import typo.runtime.PgText;
import typo.runtime.PgType;
import typo.runtime.PgWrite;
import typo.runtime.internal.arrayMap;
import static typo.runtime.internal.stringInterpolator.str;

/** This implements a line represented by the linear equation Ax + By + C = 0 */
public record TypoLine(
  Double a,
  Double b,
  Double c
) {
  public TypoLine withA(Double a) {
    return new TypoLine(a, b, c);
  };

  public TypoLine withB(Double b) {
    return new TypoLine(a, b, c);
  };

  public TypoLine withC(Double c) {
    return new TypoLine(a, b, c);
  };

  static public PgText<TypoLine> pgText =
    PgText.textString.contramap(v -> str("{", java.lang.String.valueOf(v.a()), ",", java.lang.String.valueOf(v.b()), ",", java.lang.String.valueOf(v.c()), "}"));

  static public PgType<TypoLine> pgType =
    PgType.of(
      "line",
      PgRead.castJdbcObjectTo(PGline.class).map(v -> new TypoLine(v.a, v.b, v.c)),
      PgWrite.passObjectToJdbc().contramap((TypoLine v) -> new PGline(v.a(), v.b(), v.c())),
      TypoLine.pgText
    );

  static public PgType<TypoLine[]> pgTypeArray =
    TypoLine.pgType.array(PgRead.castJdbcArrayTo(PGline.class).map(xs -> arrayMap.map(xs, v -> new TypoLine(v.a, v.b, v.c), TypoLine.class)), PgWrite.<PGline>passObjectToJdbc().array(TypoLine.pgType.typename().<PGline>as()).contramap(xs -> arrayMap.map(xs, (TypoLine v) -> new PGline(v.a(), v.b(), v.c()), PGline.class)));
}