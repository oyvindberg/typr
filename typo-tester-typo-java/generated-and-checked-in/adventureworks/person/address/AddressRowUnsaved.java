/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.person.address;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.customtypes.TypoBytea;
import adventureworks.customtypes.TypoLocalDateTime;
import adventureworks.customtypes.TypoUUID;
import adventureworks.person.stateprovince.StateprovinceId;
import java.util.Optional;
import typo.runtime.PgText;
import typo.runtime.PgTypes;

/** This class corresponds to a row in table `person.address` which has not been persisted yet */
public record AddressRowUnsaved(
  /** First street address line. */
  /* max 60 chars */ String addressline1,
  /** Second street address line. */
  Optional</* max 60 chars */ String> addressline2,
  /** Name of the city. */
  /* max 30 chars */ String city,
  /** Unique identification number for the state or province. Foreign key to StateProvince table.
    * Points to {@link adventureworks.person.stateprovince.StateprovinceRow#stateprovinceid()}
    */
  StateprovinceId stateprovinceid,
  /** Postal code for the street address. */
  /* max 15 chars */ String postalcode,
  /** Latitude and longitude of this address. */
  Optional<TypoBytea> spatiallocation,
  /** Default: nextval('person.address_addressid_seq'::regclass)
    * Primary key for Address records.
    */
  Defaulted<AddressId> addressid,
  /** Default: uuid_generate_v1() */
  Defaulted<TypoUUID> rowguid,
  /** Default: now() */
  Defaulted<TypoLocalDateTime> modifieddate
) {
  public AddressRowUnsaved(
    /** First street address line. */
    /* max 60 chars */ String addressline1,
    /** Name of the city. */
    /* max 30 chars */ String city,
    /** Unique identification number for the state or province. Foreign key to StateProvince table.
      * Points to {@link adventureworks.person.stateprovince.StateprovinceRow#stateprovinceid()}
      */
    StateprovinceId stateprovinceid,
    /** Postal code for the street address. */
    /* max 15 chars */ String postalcode
  ) {
    this(addressline1, Optional.empty(), city, stateprovinceid, postalcode, Optional.empty(), new UseDefault<>(), new UseDefault<>(), new UseDefault<>());
  };

  /** First street address line. */
  public AddressRowUnsaved withAddressline1(/* max 60 chars */ String addressline1) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  /** Second street address line. */
  public AddressRowUnsaved withAddressline2(Optional</* max 60 chars */ String> addressline2) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  /** Name of the city. */
  public AddressRowUnsaved withCity(/* max 30 chars */ String city) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  /** Unique identification number for the state or province. Foreign key to StateProvince table.
    * Points to {@link adventureworks.person.stateprovince.StateprovinceRow#stateprovinceid()}
    */
  public AddressRowUnsaved withStateprovinceid(StateprovinceId stateprovinceid) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  /** Postal code for the street address. */
  public AddressRowUnsaved withPostalcode(/* max 15 chars */ String postalcode) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  /** Latitude and longitude of this address. */
  public AddressRowUnsaved withSpatiallocation(Optional<TypoBytea> spatiallocation) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  /** Default: nextval('person.address_addressid_seq'::regclass)
    * Primary key for Address records.
    */
  public AddressRowUnsaved withAddressid(Defaulted<AddressId> addressid) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  /** Default: uuid_generate_v1() */
  public AddressRowUnsaved withRowguid(Defaulted<TypoUUID> rowguid) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  /** Default: now() */
  public AddressRowUnsaved withModifieddate(Defaulted<TypoLocalDateTime> modifieddate) {
    return new AddressRowUnsaved(addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, addressid, rowguid, modifieddate);
  };

  static public PgText<AddressRowUnsaved> pgText =
    PgText.instance((row, sb) -> {
      PgTypes.text.pgText().unsafeEncode(row.addressline1, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.opt().pgText().unsafeEncode(row.addressline2, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.pgText().unsafeEncode(row.city, sb);
      sb.append(PgText.DELIMETER);
      StateprovinceId.pgType.pgText().unsafeEncode(row.stateprovinceid, sb);
      sb.append(PgText.DELIMETER);
      PgTypes.text.pgText().unsafeEncode(row.postalcode, sb);
      sb.append(PgText.DELIMETER);
      TypoBytea.pgType.opt().pgText().unsafeEncode(row.spatiallocation, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(AddressId.pgType.pgText()).unsafeEncode(row.addressid, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(TypoUUID.pgType.pgText()).unsafeEncode(row.rowguid, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(TypoLocalDateTime.pgType.pgText()).unsafeEncode(row.modifieddate, sb);
    });

  public AddressRow toRow(
    java.util.function.Supplier<AddressId> addressidDefault,
    java.util.function.Supplier<TypoUUID> rowguidDefault,
    java.util.function.Supplier<TypoLocalDateTime> modifieddateDefault
  ) {
    return new AddressRow(addressid.getOrElse(addressidDefault), addressline1, addressline2, city, stateprovinceid, postalcode, spatiallocation, rowguid.getOrElse(rowguidDefault), modifieddate.getOrElse(modifieddateDefault));
  };
}