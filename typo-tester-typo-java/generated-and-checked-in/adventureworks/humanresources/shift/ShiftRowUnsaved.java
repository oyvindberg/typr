/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.humanresources.shift;

import adventureworks.customtypes.Defaulted;
import adventureworks.customtypes.Defaulted.UseDefault;
import adventureworks.customtypes.TypoLocalDateTime;
import adventureworks.customtypes.TypoLocalTime;
import adventureworks.public_.Name;
import typo.runtime.PgText;

/** This class corresponds to a row in table `humanresources.shift` which has not been persisted yet */
public record ShiftRowUnsaved(
  /** Shift description. */
  Name name,
  /** Shift start time. */
  TypoLocalTime starttime,
  /** Shift end time. */
  TypoLocalTime endtime,
  /** Default: nextval('humanresources.shift_shiftid_seq'::regclass)
    * Primary key for Shift records.
    */
  Defaulted<ShiftId> shiftid,
  /** Default: now() */
  Defaulted<TypoLocalDateTime> modifieddate
) {
  public ShiftRowUnsaved(
    /** Shift description. */
    Name name,
    /** Shift start time. */
    TypoLocalTime starttime,
    /** Shift end time. */
    TypoLocalTime endtime
  ) {
    this(name, starttime, endtime, new UseDefault<>(), new UseDefault<>());
  };

  /** Shift description. */
  public ShiftRowUnsaved withName(Name name) {
    return new ShiftRowUnsaved(name, starttime, endtime, shiftid, modifieddate);
  };

  /** Shift start time. */
  public ShiftRowUnsaved withStarttime(TypoLocalTime starttime) {
    return new ShiftRowUnsaved(name, starttime, endtime, shiftid, modifieddate);
  };

  /** Shift end time. */
  public ShiftRowUnsaved withEndtime(TypoLocalTime endtime) {
    return new ShiftRowUnsaved(name, starttime, endtime, shiftid, modifieddate);
  };

  /** Default: nextval('humanresources.shift_shiftid_seq'::regclass)
    * Primary key for Shift records.
    */
  public ShiftRowUnsaved withShiftid(Defaulted<ShiftId> shiftid) {
    return new ShiftRowUnsaved(name, starttime, endtime, shiftid, modifieddate);
  };

  /** Default: now() */
  public ShiftRowUnsaved withModifieddate(Defaulted<TypoLocalDateTime> modifieddate) {
    return new ShiftRowUnsaved(name, starttime, endtime, shiftid, modifieddate);
  };

  static public PgText<ShiftRowUnsaved> pgText =
    PgText.instance((row, sb) -> {
      Name.pgType.pgText().unsafeEncode(row.name, sb);
      sb.append(PgText.DELIMETER);
      TypoLocalTime.pgType.pgText().unsafeEncode(row.starttime, sb);
      sb.append(PgText.DELIMETER);
      TypoLocalTime.pgType.pgText().unsafeEncode(row.endtime, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(ShiftId.pgType.pgText()).unsafeEncode(row.shiftid, sb);
      sb.append(PgText.DELIMETER);
      Defaulted.pgText(TypoLocalDateTime.pgType.pgText()).unsafeEncode(row.modifieddate, sb);
    });

  public ShiftRow toRow(
    java.util.function.Supplier<ShiftId> shiftidDefault,
    java.util.function.Supplier<TypoLocalDateTime> modifieddateDefault
  ) {
    return new ShiftRow(shiftid.getOrElse(shiftidDefault), name, starttime, endtime, modifieddate.getOrElse(modifieddateDefault));
  };
}